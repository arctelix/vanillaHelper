function createEle(t,e,n){n=void 0==n?{}:n;var r,a=parseZen(t);if(r=document.createElement(a.tag),a.id&&(r.id=a.id),a["class"]&&(r.className=a["class"]),"string"==typeof n)r.innerHTML=n;else for(var i in n)r.setAttribute(i,n[i]);return e&&e.appendChild(r),r}function parseZen(t){var e=t.match(/(\w+)(?:#([^\.#]+)){0,1}((?:\.[^\.#]+)*)/i);return{tag:e[1]||"",id:e[2]||"","class":e[3].split(".").join(" ").trim()||""}}function getParent(t,e){for(;!testEleMatch(t,e)&&t;)t=t.parentElement;return t}function isClicked(t,e){for(var n in t.path)if(testEleMatch(t.path[n],e))return t.path[n];return!1}function testEleMatch(t,e){if(!t)return!1;var n=t.tagName?t.tagName.toLowerCase():"";return n==e||hasClass(t,e)||t.id==e}function hasClass(t,e){return iterateCollection(arguments,hasClass)?void 0:t&&t.className?t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)")):!1}function addClass(t,e){iterateCollection(arguments,addClass)||hasClass(t,e)||(t.className?t.className+=" "+e:t.className+=e)}function removeClass(t,e){if(!iterateCollection(arguments,removeClass)&&hasClass(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").replace("  "," ")}}function toggleClass(t,e){return iterateCollection(arguments,toggleClass)?void 0:hasClass(t,e)?(removeClass(t,e),!1):(addClass(t,e),!0)}function isCollection(t){return t instanceof HTMLCollection||t instanceof NodeList||t instanceof Array}function isItemType(t,e){return null===t||("string"==typeof t?typeof e==t:e instanceof t)?!0:!1}function iterate(t,e,n){var r="[object Arguments]"==Object.prototype.toString.call(t),a=r?t[0]:t;if(n=n||{},n.input&&!n.input(a))return!1;var i=r?Array.prototype.slice.call(t,0):["value"],o=i.length;for(var s in a)if(a.hasOwnProperty(s)){var c=a[s];if(n.output&&!n.output(c))continue;i[0]=c,i[o]=s,e&&e.apply(this,i)}return!0}function iterateCollection(t,e){return iterate(t,e,{input:isCollection,output:isItemType.bind(this,HTMLElement)})}function map(t,e){var n=t[0]?!0:!1,r=n?[]:{};return iterate(t,function(t,a){var i=e.apply(this,arguments);null!==i&&void 0!==i&&(n?r.push(i):r[a]=i)}),r}function noDTZoom(t){var e=/iphone|ipad/i.test(navigator.userAgent);e&&t.addEventListener("touchstart",function(t){var e=t.timeStamp,n=lastTouch||e,r=e-n,a=t.touches.length;lastTouch=e,!r||r>500||a>1||(t.preventDefault(),triggerEvent(t.target,"click"),triggerEvent(t.target,"click"))})}function triggerEvent(t,e,n){return document.createEvent?(!n&&e.indexOf("mouse")+1?(n=document.createEvent("MouseEvent"),n.initEvent(e,!0,!0)):!n&&e.indexOf("touch")+1?(n=document.createEvent("TouchEvent"),n.initEvent(e,!0,!0)):n||(n=document.createEvent("HTMLEvents"),n.initEvent(e,!0,!0)),!t.dispatchEvent(n)):(n=document.createEventObject(),t.fireEvent("on"+e,n))}function escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/#/g,"&#35;")}function get_firstChild(t){for(var e=t.firstChild;1!=e.nodeType;)e=e.nextSibling;return e||null}var lastTouch=void 0;Date.now=Date.now||function(){return(new Date).getTime()},!window.addEventListener&&function(t,e,n,r,a,i,o){t[r]=e[r]=n[r]=function(t,e){var n=this;o.unshift([n,t,e,function(t){t.currentTarget=n,t.preventDefault=function(){t.returnValue=!1},t.stopPropagation=function(){t.cancelBubble=!0},t.target=t.srcElement||n,e.call(n,t)}]),this.attachEvent("on"+t,o[0][3])},t[a]=e[a]=n[a]=function(t,e){for(var n,r=0;n=o[r];++r)if(n[0]==this&&n[1]==t&&n[2]==e)return this.detachEvent("on"+t,o.splice(r,1)[0][3])},t[i]=e[i]=n[i]=function(t){return this.fireEvent("on"+t.type,t)}}(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[]),String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},String.prototype.format=function(){var t,e=0,n=Array.prototype.slice.call(arguments,0);return this.replace(/%s|{(\d+)}/g,function(r,a){if(a=a||e,"%s"===r&&e++,t=n[a],void 0===t)throw new RangeError("String.format: Not enough arguments were provided.");return t})},Array.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};